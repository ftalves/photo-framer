(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1474:function(e,t,i){Promise.resolve().then(i.bind(i,9358)),Promise.resolve().then(i.bind(i,9151))},9358:function(e,t,i){"use strict";i.r(t),i.d(t,{ImageEditor:function(){return a}});var n=i(7437),r=i(6673),l=i(9151);let h={width:"100%",height:"100px",border:"2px dashed #ccc",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},a=()=>{let{canvasRef:e,imageDimensions:t,setImageDimensions:i,lockProportions:a,toggleLockProportions:o,handleFileUpload:d,handleAspectRatioChange:s,handleDownload:u}=(0,l.useImageEditor)();return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Image Editor"}),(0,n.jsx)(r.ZP,{onDrop:d,children:e=>{let{getRootProps:t,getInputProps:i}=e;return(0,n.jsxs)("div",{...t(),style:h,children:[(0,n.jsx)("input",{...i()}),(0,n.jsx)("p",{children:"Drag n drop an image here, or click to select one"})]})}}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"aspect-ratio",children:"Aspect Ratio"}),(0,n.jsxs)("select",{id:"aspect-ratio",onChange:e=>s(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Original"}),(0,n.jsx)("option",{value:"insta-story",children:"Story"}),(0,n.jsx)("option",{value:"insta-portrait",children:"Portrait"}),(0,n.jsx)("option",{value:"insta-square",children:"Square"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"number",value:t.width,onChange:e=>i({width:Number(e.target.value),lockProportions:a})}),(0,n.jsx)("input",{type:"number",value:t.height,onChange:e=>i({height:Number(e.target.value),lockProportions:a})}),(0,n.jsx)("input",{type:"checkbox",checked:a,onChange:o})]}),(0,n.jsx)("canvas",{ref:e,width:100,height:100}),(0,n.jsx)("button",{onClick:u,children:"Download Edited Image"})]})]})}},9151:function(e,t,i){"use strict";i.r(t),i.d(t,{useImageEditor:function(){return h}});var n=i(2265),r=i(8613);let l={"insta-story":[1080,1920],"insta-portrait":[1080,1350],"insta-square":[1080,1080]},h=()=>{let e=(0,n.useRef)(null),[t,i]=(0,n.useState)(),[h,a]=(0,n.useState)({width:0,height:0}),[o,d]=(0,n.useState)(!0),[s,u]=(0,n.useState)("#000"),[c,g]=(0,n.useState)("jpg"),[p,v]=(0,n.useState)(1),w=e=>{let{width:t,height:i,lockProportions:n}=e;if(!t&&!i)return;let r=t,l=i;r||(r=n?Math.ceil(l*p):h.width),l||(l=n?Math.floor(r/p):h.height),a({width:r,height:l})};return(0,n.useEffect)(()=>{var i;let n=null===(i=e.current)||void 0===i?void 0:i.getContext("2d");if(!e.current||!n||!t)return;let r=(null==t?void 0:t.width)||0,l=(null==t?void 0:t.height)||0,a=h.width||t.width,o=h.height||t.height;e.current.width=a,e.current.height=o;let d=Math.min(a/r,o/l),u=r*d,c=l*d;n.fillStyle=s,n.fillRect(0,0,a,o),n.drawImage(t,a/2-u/2,o/2-c/2,u,c)},[t,h,s]),{canvasRef:e,imageDimensions:h,setImageDimensions:w,lockProportions:o,toggleLockProportions:()=>{let e=!o;d(e),e&&w({width:h.width,lockProportions:e})},handleFileUpload:t=>{let n=t[0],r=new Image;r.src=URL.createObjectURL(n),r.onload=()=>{if(i(r),a({width:r.width,height:r.height}),v(r.width/r.height),e.current){var t,n;e.current.width=r.width,e.current.height=r.height,null===(n=e.current)||void 0===n||null===(t=n.getContext("2d"))||void 0===t||t.drawImage(r,0,0)}}},handleDownload:()=>{var t;let i=(null===(t=e.current)||void 0===t?void 0:t.toDataURL("image/".concat(c,"}")))||null;i&&(0,r.saveAs)(i,"image.".concat(c))},handleAspectRatioChange:e=>{let[i,n]=l[e]||[null==t?void 0:t.width,null==t?void 0:t.height];w({width:i,height:n,lockProportions:o}),v(i/n)}}}}},function(e){e.O(0,[38,971,472,744],function(){return e(e.s=1474)}),_N_E=e.O()}]);