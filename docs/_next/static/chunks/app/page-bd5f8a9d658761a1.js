(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{850:function(e,t,r){Promise.resolve().then(r.bind(r,3252))},3252:function(e,t,r){"use strict";r.r(t),r.d(t,{Framer:function(){return v}});var s=r(7437),n=r(2265),i=r(6691),a=r.n(i),o=r(6673),l=r(8613),d=r(2074),c=r.n(d),h=r(8489);let m={"insta-story":[1080,1920],"insta-portrait":[1080,1350],"insta-landscape":[1080,566],"insta-square":[1080,1080]},u=(e,t,r,s)=>Math.min(r/e,s/t),g=(e,t,r,s)=>({x:(e-r)/2,y:(t-s)/2}),x=e=>{var t;let{canvasRef:r,image:s,canvasDimensions:n,backgroundColor:i}=e,a=null===(t=r.current)||void 0===t?void 0:t.getContext("2d");if(!r.current||!a||!s)return;let o=s.width||0,l=s.height||0,d=n.width||s.width,c=n.height||s.height;r.current.width=d,r.current.height=c;let h=u(o,l,d,c),m=o*h,x=l*h,p=g(d,c,m,x);a.fillStyle=i,a.fillRect(0,0,d,c),a.drawImage(s,p.x,p.y,m,x)},p=(e,t,r)=>{if(!t)return{width:e.width,height:e.height};if(r){let[e,r]=m[t];return{width:e,height:r}}let[s,n]=m[t],i=s/n,a=e.width/e.height;return a>i?{width:e.width,height:Math.round(e.width/i)}:{width:Math.round(e.height*i),height:e.height}},f=e=>{let{image:t,aspectRatio:r,optimizeSize:s,borderColor:i,canvasRef:a,src:o}=e,[l,d]=(0,n.useState)({width:0,height:0});return(0,n.useEffect)(()=>{t.onload=()=>{let e=p(t,r,s);if(d(e),a.current){var n,i;a.current.width=e.width,a.current.height=e.height,null===(i=a.current)||void 0===i||null===(n=i.getContext("2d"))||void 0===n||n.drawImage(t,0,0)}},t.src=o},[]),(0,n.useEffect)(()=>{t.width&&d(p(t,r,s))},[r,s]),(0,n.useEffect)(()=>{l.width&&l.height&&x({canvasRef:a,image:t,canvasDimensions:l,backgroundColor:i})},[t,l,i]),{image:t,canvasRef:a,imageDimensions:l}},w=(0,n.forwardRef)((e,t)=>{let r=(0,n.useRef)(null),{imageDimensions:i}=f({...e,canvasRef:r});return(0,s.jsxs)("div",{"data-testid":"image-editor",className:"group relative flex flex-col overflow-hidden rounded-xl border border-gray-200 shadow-sm",children:[(0,s.jsx)("div",{className:"flex items-center justify-center p-3",children:(0,s.jsx)("canvas",{ref:e=>{r.current=e,t&&("function"==typeof t?t(e):t.current=e)},width:0,height:0,className:"max-h-64 w-auto rounded object-contain shadow-sm"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-gray-400 tabular-nums",children:[i.width," \xd7 ",i.height]}),(0,s.jsxs)("button",{onClick:e.onRemove,className:"flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium text-gray-400 hover:bg-red-50 hover:text-red-500 transition-colors",children:[(0,s.jsx)("svg",{className:"h-3.5 w-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Remove"]})]})]})});w.displayName="Editor";let v=()=>{let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)("insta-portrait"),[d,m]=(0,n.useState)(!0),[u,g]=(0,n.useState)("#ffffff"),[x,p]=(0,n.useState)(!1),f=(0,n.useRef)(null),v=(0,n.useRef)([]);(0,n.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let b=async()=>{let t=await Promise.all(v.current.map((t,r)=>{let s=e[r];return s?new Promise(e=>{t.toBlob(t=>{e(t?{blob:t,extension:s.extension,mimeType:s.mimeType}:null)},s.mimeType)}):Promise.resolve(null)})),r=t.filter(Boolean);if(0===r.length)return;if(1===r.length){(0,l.saveAs)(r[0].blob,"image.".concat(r[0].extension));return}let s=new(c());r.forEach((e,t)=>{let{blob:r,extension:n}=e;s.file("image-".concat(t+1,".").concat(n),r)});let n=await s.generateAsync({type:"blob"});(0,l.saveAs)(n,"instaready-images.zip")},j=r=>{let s=[];for(let t of e)t.image.src!==r.src?s.push(t):URL.revokeObjectURL(t.src);t(s)};return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-6 py-6",children:[(0,s.jsxs)("header",{className:"mb-10 mt-5 flex flex-col items-center gap-4 ",children:[(0,s.jsx)("div",{className:"max-w-3xl",children:(0,s.jsx)(a(),{src:"/instaready/logo.png",alt:"InstaReady",width:220,height:60,priority:!0,className:"h-auto w-auto"})}),(0,s.jsx)("p",{className:"text-xl text-gray-500 text-center",children:"Add clean borders to match Instagram ratios instantly."})]}),(0,s.jsx)(o.ZP,{onDrop:e=>{let r=e.map(e=>{let t=new Image,r=URL.createObjectURL(e),s=e.type||"image/png",n=(e.name.split(".").pop()||s.split("/")[1]||"png").toLowerCase();return{image:t,mimeType:s,extension:n,src:r}});t(e=>[...e,...r])},accept:{"image/*":[]},children:e=>{let{getRootProps:t,getInputProps:r,isDragActive:n}=e;return(0,s.jsxs)("div",{...t(),"data-testid":"dropzone",className:"flex flex-col items-center justify-center w-full rounded-xl border-2 border-dashed px-6 py-12 cursor-pointer transition-colors ".concat(n?"border-indigo-400 bg-indigo-50":"border-gray-300 bg-white hover:border-indigo-300 hover:bg-gray-50"),children:[(0,s.jsx)("input",{...r()}),(0,s.jsx)("svg",{className:"mb-3 h-10 w-10 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:n?"Drop images here":"Drag & drop images, or click to select"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:"PNG, JPG, WEBP supported"})]})}}),(0,s.jsxs)("div",{className:"mt-6 flex flex-wrap items-center gap-4 rounded-xl border border-gray-200 px-5 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{htmlFor:"aspect-ratio",className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Aspect Ratio"}),(0,s.jsxs)("select",{id:"aspect-ratio",value:r,onChange:e=>i(e.target.value),className:"rounded-lg border border-gray-300 bg-gray-50 px-3 py-1.5 text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-400",children:[(0,s.jsx)("option",{value:"insta-portrait",children:"Portrait / Post"}),(0,s.jsx)("option",{value:"insta-story",children:"Story"}),(0,s.jsx)("option",{value:"insta-square",children:"Square"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Border Color"}),(0,s.jsxs)("div",{ref:f,className:"relative",children:[(0,s.jsx)("button",{onClick:()=>p(e=>!e),className:"h-7 w-7 rounded-md border-2 border-gray-300 shadow-sm ring-offset-1 focus:outline-none focus:ring-2 focus:ring-indigo-400",style:{backgroundColor:u},"aria-label":"Pick border color"}),x&&(0,s.jsxs)("div",{className:"absolute left-0 top-9 z-20 rounded-xl border border-gray-200 bg-white p-3 shadow-lg",children:[(0,s.jsx)(h.gW,{color:u,onChange:g}),(0,s.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-xs text-gray-400 font-mono uppercase",children:u})})]})]})]}),(0,s.jsxs)("label",{htmlFor:"optimize-size",className:"flex items-center gap-2 cursor-pointer select-none",children:[(0,s.jsx)("input",{id:"optimize-size",type:"checkbox",checked:d,onChange:e=>m(e.target.checked),className:"h-4 w-4 rounded border-gray-300 accent-indigo-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Optimize Image Size"})]}),e.length>0&&(0,s.jsxs)("button",{onClick:b,className:"ml-auto flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 active:bg-indigo-700 transition-colors",children:[(0,s.jsx)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"Download",e.length>1?" all as ZIP (".concat(e.length,")"):""]})]}),e.length>0&&(0,s.jsx)("div",{className:"mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e,t)=>{let{image:n,src:i}=e;return(0,s.jsx)(w,{image:n,src:i,aspectRatio:r,optimizeSize:d,borderColor:u,onRemove:()=>j(n),ref:e=>v.current[t]=e},i)})})]})}}},function(e){e.O(0,[68,971,472,744],function(){return e(e.s=850)}),_N_E=e.O()}]);